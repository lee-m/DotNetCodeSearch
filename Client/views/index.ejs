<!DOCTYPE html>
<html ng-app="codeSearch">

<head>
  <title>Mercurial Code Search</title>

  <link rel='stylesheet' href='/stylesheets/bootstrap.min.css' />
  <link rel='stylesheet' href='/stylesheets/style.css' />

  <script src="/javascripts/jquery.min.js"></script>
  <script src="/javascripts/bootstrap.min.js"></script>
  <script src="/javascripts/angular.min.js"></script>
  <script src="/javascripts/angular-sanitize.min.js"></script>
  <script src="/javascripts/app.js"></script>

</head>

<body ng-controller="CodeSearchController" class="bg-default">

  <header class="bg-primary">
    <h2>Mercurial Search</h2>
  </header>

  <div class="container">

    <div class="row">

      <div class="col-md-4">

        <div class="panel panel-primary">

          <div class="panel-heading">
            <h3 class="panel-title">Search Parameters</h3>
          </div>

          <div class="panel-body">

            <!-- Changeset search params -->
            <div class="panel panel-default">

              <div class="panel-heading">
                <h3 class="panel-title">
                  <span style="color:black">Changeset Search Paramters</span>
                </h3>
              </div>

              <div class="panel-body">

                <div class="input-group">
                  <span class="input-group-addon">Repository:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">Branch:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon bg-info">Message:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">Author:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>

              </div>

            </div>

            <hr>

            <!-- Source code search params -->
            <div class="panel panel-default">

              <div class="panel-heading">
                <h3 class="panel-title">
                  <span style="color:black">Source Code Search Paramters</span>
                </h3>
              </div>

              <div class="panel-body">

                <div class="input-group">
                  <span class="input-group-addon">Repository:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon">Branch:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon bg-info">Types:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon bg-info">Enums:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon bg-info">Functions:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon bg-info">Attributes:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>
                <div class="input-group">
                  <span class="input-group-addon bg-info">Comments:</span>
                  <input type="text" class="form-control" placeholder="...">
                </div>

              </div>

            </div>

            <hr>

            <div style="text-align:center;">
              <button type="button" class="btn btn-default" ng-click="searchButtonClicked()">Search</button>
            </div>

          </div>

        </div>

      </div>

      <!-- Search results -->
      <div class="col-md-8">

        <div class="panel panel-primary">

          <div class="panel-heading">
            <h3 class="panel-title">Search Results
              <span class="badge">{{searchResults.total}}</span>
            </h3>
          </div>

          <div class="panel-body">

            <div class="alert alert-danger" ng-show="searchError">
              Remote server is unavailable. Please check and try again.
            </div>

            <!--
            <div class="panel panel-default" ng-repeat="hit in searchResults.hits">
              <div class="panel-body">
                <p ng-bind-html="hit.highlight.message[0]"></p>
              </div>
            </div>
-->
            <ul class="list-group" ng-repeat="hit in searchResults.hits">
              <li class="list-group-item">
                <strong>Repository: </strong> {{hit._source.repository}}
              </li>
              <li class="list-group-item">
                <strong>Branch: </strong> {{hit._source.branch}}
              </li>
              <li class="list-group-item">
                <strong>Author: </strong> {{hit._source.author}}
              </li>
              <li class="list-group-item">
                <strong>Date: </strong> {{hit._source.changeDateTime | date:'yyyy-MM-dd HH:mm:ss'}}
              </li>
              <li class="list-group-item">
                <strong>Message: </strong> <p ng-bind-html="hit.highlight.message[0]"></p>
              </li>
            </ul>

          </div>

        </div>

      </div>

    </div>

  </div>

</body>

</html>